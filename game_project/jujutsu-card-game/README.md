# 영역전개 - 주술회전 카드 배틀 게임

주술회전(呪術廻戦)을 기반으로 한 전략 카드 배틀 리그 게임입니다.

## 게임 소개

6장의 카드로 크루를 구성하고, 시즌제 리그에서 AI 크루들과 대결하여 우승을 목표로 합니다. 정규시즌 14경기(홈/어웨이 2회전, 전/후반기 각 7경기) 후 상위 4팀이 플레이오프에 진출하며, 5전 3선승제로 챔피언을 가립니다.

---

## 주요 시스템

### 🏆 시즌 리그 시스템 (팀 리그)
- **정규시즌**: 7개 AI 크루와 홈/어웨이 2회씩 대결 (총 14경기)
  - **전반기** (7경기): 전반기 종료 후 순위 확정 → 드래프트 순서 결정
  - **전환기**: 전반기 종료 후 드래프트/트레이드 윈도우 오픈, AP 보너스 +5
  - **후반기** (7경기): 트레이드 데드라인 12경기째
- **플레이오프**: 상위 4팀 진출, 5전 3선승제
  - 준결승: 1위 vs 4위, 2위 vs 3위
  - 결승: 준결승 승자끼리 대결
- **크루 방침** (팀 리그용): 전체 크루에 적용되는 전략
  - 공격적 (ATK +5%, DEF -3%)
  - 균형 (변화 없음)
  - 수비적 (DEF +5%, ATK -3%)
- **시즌 히스토리**: 역대 시즌 기록 저장
- **통산 전적**: 크루별 상대 전적 추적

### 🏆 개인 리그 (토너먼트)
- **32명 토너먼트**: 플레이어 크루 6장 + AI 26장
- **조별 리그 (32강)**: 8조 × 4명, 풀 리그전 (6경기/조)
- **토너먼트 진출**: 각 조 상위 2명 → 16강 진출
- **라운드별 포맷**:
  - 32강: 단판
  - 16강: 3판 2선승
  - 8강/4강/결승: 5판 3선승
- **코칭 전략** (개인 리그용): 카드별 개별 전략 설정
  - 공격적 전개 (ATK +15%, DEF -10%)
  - 수비적 전개 (DEF +15%, ATK -10%)
  - 필살기 집중 (궁극기 게이지 +30% 시작, HP -10%)
  - 속공 (SPD +20%, HP -15%)
  - 주력 극대화 (CE +20%, SPD -15%)
  - 균형 (변화 없음)

### ⚔️ 전투 시스템
- **HP 기반 턴제 전투**: HP가 0이 될 때까지 공격 교환 (최대 5턴)
- **선공 결정**: SPD가 높은 쪽이 먼저 공격
- **8스탯 시스템**: ATK(공격), DEF(방어), SPD(속도), CE(주력), HP(체력), CRT(치명), TEC(기술), MNT(정신)
- **스킬 시스템**: 기본 스킬 3개 + 궁극기 1개, 확률/조건에 따라 자동 발동
- **궁극기 게이지**: 피해 입을 때 충전, 게이지 충족 시 궁극기 자동 발동
- **속성 상성**: 6속성 시스템 (결계, 신체, 저주, 혼백, 변환, 원거리)
- **경기장 효과**: 25개 경기장별 고유 효과 (속성/스탯 보너스/페널티)
- **밴픽 시스템**: 대결 전 아레나 밴 + 카드 배치

---

## 경제 시스템

### 💰 CP (크루 포인트)
게임 내 화폐로, 모든 경제 활동의 기반입니다.

| 수입원 | CP |
|--------|-----|
| 시즌 기본 예산 | 10,000 |
| 1위 순위 보너스 | 5,000 |
| 2위 순위 보너스 | 3,000 |
| 3위 순위 보너스 | 2,000 |
| 4위 순위 보너스 | 1,000 |
| 팀 리그 우승 | 8,000 |
| 개인 리그 우승 | 3,000 |
| 경기 승리 | 200 |
| 경기 무승부 | 100 |
| 경기 패배 | 50 |

**지출처**: 아이템 구매, 훈련 비용, 스카우트 비용, 연습경기 비용, 연봉 지급, 럭셔리 택스 등

### 💼 샐러리 캡 시스템
기존 등급 제한(특급 1장, 1급 2장)을 **CP 기반 샐러리 캡**으로 대체했습니다.

- **하드 캡**: 15,000 CP (크루 총 연봉 한도, 절대 초과 불가)
- **소프트 캡**: 12,000 CP (초과 시 페널티)
- **럭셔리 택스**: 소프트캡 초과분에 대해 시즌 종료 시 추가 과금
  - 초과 0~1,000: 50%
  - 초과 1,000~2,000: 75%
  - 초과 2,000+: 100%
- **보상 감소**: 소프트캡 초과 시 경기 보상 -20%

### 📊 연봉 계산
카드 연봉 = (기본 연봉 + 레벨 보너스) × 생애주기 배율 × 루키 스케일

| 등급 | 기본 연봉 | 레벨당 추가 |
|------|-----------|-------------|
| 특급 | 5,000 | +300/Lv |
| 1급 | 3,000 | +200/Lv |
| 준1급 | 2,000 | +150/Lv |
| 2급 | 1,200 | +100/Lv |
| 준2급 | 800 | +80/Lv |
| 3급 | 500 | +50/Lv |

**생애주기 배율**: 전성기 ×1.2, 쇠퇴기 ×0.8, 은퇴 권유 ×0.6
**루키 스케일**: 신입 카드 연봉 ×0.6 (3시즌 동안)

---

## 활동 시스템

### ⚡ AP (활동 포인트)
경기 사이에 활동을 수행하기 위한 포인트입니다.

| 획득 조건 | AP |
|-----------|-----|
| 경기 승리 | +3 |
| 경기 무승부 | +2 |
| 경기 패배 | +1 |
| 전환기 보너스 (전반기→후반기) | +5 |

- **최대 AP**: 20
- **시즌 종료 시 초기화**: 0으로 리셋

### 🎯 활동 종류

| 활동 | AP 비용 | CP 비용 | 효과 |
|------|---------|---------|------|
| 훈련 | 2 | 200 | 선택 카드 ATK/DEF/SPD +2 (1경기) |
| 휴식 | 1 | 0 | 선택 카드 컨디션 +15 |
| 스카우트 | 3 | 500 | 다음 상대 크루 정보 확인 |
| 연습경기 | 2 | 100 | 선택 카드 경험치 +20 |
| 팬미팅 | 2 | 0 | CP +300 획득 |

---

## 성장 시스템

### 📈 레벨링
- **최대 레벨**: 10
- 대전 결과에 따른 경험치 획득 (승리 30, 패배 10, 상위 등급 상대 승리 50)
- 레벨업 시 주성장/부성장 스탯 +2
- **시즌 종료 시 경험치 확정 지급**: 팀 리그 + 개인 리그 누적 경험치 합산

### 🔄 생애주기 (커리어 페이즈)
카드는 크루 소속 시즌 수에 따라 생애주기가 변화합니다.

| 페이즈 | 아이콘 | 연봉 배율 | 스탯 변화 |
|--------|--------|-----------|-----------|
| 신입 (ROOKIE) | 🌱 | 기본 | 루키 스케일 할인 |
| 성장기 (GROWTH) | 📈 | 기본 | 없음 |
| 전성기 (PEAK) | ⭐ | ×1.2 | 없음 |
| 쇠퇴기 (DECLINE) | 📉 | ×0.8 | 시즌 종료 시 랜덤 1~3 스탯 -1 |
| 은퇴 권유 (RETIREMENT_ELIGIBLE) | 🌅 | ×0.6 | 시즌 종료 시 랜덤 3~5 스탯 -1 |

**등급별 생애주기 타이밍** (크루 소속 시즌 수 기준):

| 등급 | 전성기 시작 | 쇠퇴 시작 | 은퇴 권유 |
|------|-------------|-----------|-----------|
| 특급 | 2시즌 | 5시즌 | 8시즌 |
| 1급 | 3시즌 | 6시즌 | 9시즌 |
| 준1급/2급 | 3시즌 | 7시즌 | 10시즌 |
| 준2급/3급 | 4시즌 | 8시즌 | 11시즌 |

### 🌅 은퇴 시스템
- 쇠퇴기 이후 은퇴 가능
- 은퇴 권유 상태에서 2시즌 경과 시 강제 은퇴
- **은퇴 보상 (CP)**: 특급 5,000 / 1급 3,000 / 준1급 2,000 / 2급 1,500 / 준2급 1,000
- **후계자 효과**: 은퇴 카드와 같은 속성 카드에 경험치 +30% 보너스
- **복귀 쿨다운**: 특급 3시즌, 1급 이하 2시즌 (드래프트 풀 복귀 시)

---

## 캐릭터 카드 (총 54장)

### 등급별 분포
| 등급 | 인원 수 | 주요 캐릭터 |
|------|---------|------------|
| 특급 (8명) | 8 | 고죠 사토루, 료멘 스쿠나, 켄자쿠, 오쿠츠 유타 등 |
| 1급 (16명) | 16 | 후시구로 토지, 나나미 켄토, 죠고, 하나미, 토도 아오이 등 |
| 준1급 (14명) | 14 | 이타도리 유지, 후시구로 메구미, 마히토, 메이메이 등 |
| 2급 (10명) | 10 | 쿠기사키 노바라, 이노 타쿠마, 판다 등 |
| 3급 (6명) | 6 | 하급 주술사 캐릭터들 |

각 캐릭터: 기본 스킬 3개 + 궁극기 1개 + 6속성 중 1개 + 8스탯

---

## 트레이드 시스템
- **CP 기반 가치 평가**: 등급 + 레벨 + 생애주기에 따른 트레이드 가치 산정
  - 카드 가치 = (등급 기본가치 + 레벨당 보너스) × 생애주기 배율
- **트레이드 밸런스**: 양측 패키지의 가치 차이 20% 이내
- **샐러리 캡 검증**: 트레이드 후 샐러리 캡 초과 여부 확인
- **트레이드 데드라인**: 12경기째 이후 트레이드 불가
- **FA 시스템**: 3시즌 소속 후 FA 자격 획득

---

## 드래프트 시스템
- **전반기 종료 후 전환기**에 드래프트 실시
- **드래프트 순서**: 전반기 순위 역순 (꼴찌가 1픽)
- **드래프트 풀**: 3~6장 (은퇴 카드 복귀 포함)
- **스테판 규칙**: 연속 2시즌 드래프트 픽 트레이드 불가
- **루키 스케일**: 드래프트 선발 카드는 3시즌간 연봉 60%

---

## 기타 시스템

### 📰 뉴스 피드
자동 생성되는 게임 내 뉴스: 경기 결과, 연승/연패 기록, 트레이드 소식, 시즌 이벤트, 플레이오프 소식

### 🏅 수상 시스템
시즌 종료 시 자동 선정: MVP (기여도 최고), 다승왕 (최다 승리)

### 📚 술사 명부 (전체 카드 도감)
전체 54장 카드 열람, 등급/속성 필터링, 다양한 정렬 옵션

### 📊 카드 기록 시스템
통산/시즌별 기록, 최대 연승, 데미지 통계, 경기장별/상대별 전적

### 🏛️ 명예의 전당
역대 시즌 챔피언, MVP, 다승왕 기록 보관

### 🗡️ 올킬 시스템
3의 배수 시즌에서 올킬 도전 가능

### 🎖️ 에이스 결정전
5라운드 2:2 동점 시 에이스 카드끼리 결정전

---

## 기술 스택

- **프레임워크**: React 19 + TypeScript 5.9
- **빌드 도구**: Vite 7.2
- **상태 관리**: Zustand 5.0 (LocalStorage 영속성)
- **스타일링**: Tailwind CSS v4
- **애니메이션**: Framer Motion 12

---

## 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 빌드 미리보기
npm run preview
```

---

## 프로젝트 구조

```
src/
├── components/
│   ├── BanPick/           # 밴픽 시스템 (아레나 밴, 카드 배치)
│   ├── Battle/            # 대전 화면 (턴제 배틀, 아레나 표시)
│   ├── Card/              # 카드 표시/선택/상세 패널
│   ├── IndividualLeague/  # 개인 리그 (32명 토너먼트)
│   ├── Phase4/            # 에이스 결정전, 올킬, FA, 명예의전당, 시즌종료
│   ├── Phase5/            # CP 표시, AP/활동 패널, 코칭 패널, 연봉/커리어
│   ├── Strategy/          # 전략 대시보드
│   ├── UI/                # 공통 UI (버튼, 모달, 배지, 레이더차트 등)
│   ├── DraftScreen.tsx    # 드래프트 화면
│   ├── NewsFeed.tsx       # 뉴스 피드
│   └── SeasonAwards.tsx   # 시즌 수상
├── data/
│   ├── characters/        # 등급별 캐릭터 데이터 (54장)
│   │   ├── special-grade.ts   # 특급 (8명)
│   │   ├── first-grade.ts     # 1급 (16명)
│   │   ├── semi-first-grade.ts # 준1급 (14명)
│   │   ├── second-grade.ts    # 2급 (10명)
│   │   └── third-grade.ts     # 3급 (6명)
│   ├── arenas.ts          # 경기장 데이터 (25개)
│   ├── arenaEffects.ts    # 경기장 효과
│   ├── items.ts           # 아이템 데이터
│   ├── aiCrews.ts         # AI 크루 데이터 (7팀)
│   ├── achievements.ts    # 업적 데이터
│   ├── battleStyles.ts    # 전투 성향
│   ├── growthSystem.ts    # 성장/경험치 시스템
│   ├── gaugeSystem.ts     # 궁극기 게이지 시스템
│   ├── statusEffects.ts   # 상태 효과
│   ├── ultimateSkillEffects.ts # 궁극기 스킬 효과
│   └── constants.ts       # 게임 상수 (샐러리캡, AP, 시즌 구조 등)
├── hooks/
│   └── useBattle.ts       # 대전 진행 커스텀 훅
├── pages/
│   ├── MainMenu.tsx       # 메인 메뉴
│   ├── SeasonHub.tsx      # 시즌 허브 (메인 화면)
│   ├── CrewManager.tsx    # 크루 관리
│   ├── Collection.tsx     # 내 크루 컬렉션
│   ├── CardDetail.tsx     # 카드 상세/장비/기록
│   ├── CardCatalog.tsx    # 술사 명부 (전체 카드)
│   ├── PersonalRanking.tsx # 개인 순위
│   ├── Trade.tsx          # 트레이드 화면
│   ├── Items.tsx          # 아이템 상점
│   ├── Profile.tsx        # 프로필/업적
│   └── Settings.tsx       # 설정
├── stores/                # Zustand 상태 관리 (12개)
│   ├── gameStore.ts       # 게임 세션 (밴픽 + 대전)
│   ├── seasonStore.ts     # 시즌/리그 (전/후반기, 크루 방침, 경험치 누적)
│   ├── playerStore.ts     # 플레이어 데이터 (연봉/생애주기 통합)
│   ├── economyStore.ts    # CP 경제 (수입/지출/럭셔리택스)
│   ├── activityStore.ts   # AP 활동 (훈련/휴식/스카우트/연습/팬미팅)
│   ├── coachingStore.ts   # 코칭 전략 (카드별 전투 전략)
│   ├── tradeStore.ts      # 트레이드 (FA, 트레이드 데드라인)
│   ├── draftStore.ts      # 드래프트
│   ├── individualLeagueStore.ts # 개인 리그
│   ├── cardRecordStore.ts # 카드 기록
│   ├── newsFeedStore.ts   # 뉴스 피드
│   └── index.ts           # 스토어 통합 export
├── types/
│   ├── index.ts           # 전체 타입/상수 정의
│   └── individualLeague.ts # 개인 리그 타입
└── utils/                 # 유틸리티 (21개)
    ├── battleCalculator.ts      # 대전 계산 로직
    ├── aiLogic.ts               # AI 카드 선택 로직
    ├── banPickSystem.ts         # 밴픽 처리
    ├── attributeSystem.ts       # 속성 상성 계산
    ├── arenaEffectAnalyzer.ts   # 경기장 효과 분석
    ├── battleCommentarySystem.ts # 전투 해설
    ├── activityEffects.ts       # 활동 효과 적용 (스탯/컨디션/경험치)
    ├── coachingEffects.ts       # 코칭 효과 적용 (크루 방침 + 개인 전략)
    ├── salarySystem.ts          # 연봉 계산/샐러리캡 검증
    ├── agingSystem.ts           # 생애주기/쇠퇴/은퇴 처리
    ├── tradeValueSystem.ts      # 트레이드 가치 계산
    ├── tradeDeadlineSystem.ts   # 트레이드 데드라인
    ├── faSystem.ts              # FA 시스템
    ├── hallOfFameSystem.ts      # 명예의 전당
    ├── aceMatchSystem.ts        # 에이스 결정전
    ├── allKillSystem.ts         # 올킬 시스템
    ├── strategyAdvisor.ts       # 전략 어드바이저
    ├── individualLeagueSystem.ts # 개인 리그 로직
    ├── individualBattleSimulator.ts # 1:1 배틀 시뮬레이터
    └── imageHelper.ts           # 이미지 로딩 헬퍼
```

---

## 게임 규칙

### 크루 구성
- **6장의 카드**로 크루 구성 (최소 5장, 최대 8장)
- **샐러리 캡 제한**: 총 연봉 15,000 CP 이내
- 등급 제한 없음 (샐러리 캡으로 자연스럽게 밸런스)

### 대전 진행
1. **밴픽**: 플레이어/AI 각각 아레나 밴 → 카드 배치
2. **5라운드** 진행 (3점 선승제, 6장 중 5장 사용)
3. 매 라운드 경기장에서 HP 기반 턴제 전투
4. SPD가 높은 쪽 선공 → HP 0이 될 때까지 공격 교환
5. 스킬/궁극기 자동 발동
6. **2:2 동점 시 에이스 결정전** (5라운드)

### 시즌 흐름
1. **크루 선택**: 6장의 카드 선택 (샐러리 캡 이내)
2. **전반기** (7경기): AI 크루들과 대결
3. **전환기**: 드래프트, 트레이드 윈도우 오픈, AP 보너스
4. **후반기** (7경기): 트레이드 데드라인 12경기째
5. **플레이오프**: 상위 4팀 5전 3선승제
6. **시즌 종료**: 수상 선정, 경험치 확정 지급, 노화/은퇴 처리
7. **다음 시즌**: AI 크루 재배정, 새로운 시즌 시작

---

## 업데이트 히스토리

### Phase 5 (최신) - 경제/활동/코칭 시스템
- **CP (크루 포인트) 경제 시스템**
  - 시즌 예산, 순위 보너스, 경기 보상, 아이템 매매
  - 거래 로그 (최대 500건), 시즌별 수입 요약
- **샐러리 캡 시스템**
  - 기존 등급 제한(특급 1장, 1급 2장) → CP 기반 연봉 한도로 전환
  - 하드 캡 15,000 / 소프트 캡 12,000
  - 럭셔리 택스 (소프트캡 초과분에 구간별 과금)
  - 소프트캡 초과 시 경기 보상 -20% 페널티
- **연봉 시스템**: 등급 + 레벨 + 생애주기 + 루키 스케일 기반 연봉 자동 계산
- **AP (활동 포인트) 시스템**
  - 경기 결과별 차등 AP 지급 (승리 3, 무승부 2, 패배 1)
  - 전환기 AP 보너스 +5
  - 5종 활동: 훈련, 휴식, 스카우트, 연습경기, 팬미팅
- **코칭 시스템**
  - 팀 리그: 크루 방침 (공격적/균형/수비적)
  - 개인 리그: 카드별 전략 6종 (스탯 미리보기 지원)
- **생애주기 시스템**: ROOKIE → GROWTH → PEAK → DECLINE → RETIREMENT_ELIGIBLE
  - 등급별 차등 타이밍, 시즌 종료 시 노화/쇠퇴 자동 처리
- **은퇴/후계자 시스템**: CP 보상, 후계자 경험치 보너스, 복귀 쿨다운
- **전/후반기 시즌 구조**: 전반기 7경기 → 전환기(드래프트) → 후반기 7경기

### Phase 4
- **에이스 결정전**: 2:2 동점 시 에이스 카드 결정전
- **올킬 시스템**: 3의 배수 시즌 올킬 도전
- **FA 시스템**: 3시즌 소속 후 FA 자격
- **명예의 전당**: 역대 수상 기록 보관
- **트레이드 데드라인**: 시즌 중반 트레이드 마감
- **경험치 누적**: 팀 리그 + 개인 리그 경험치를 시즌 종료 시 합산 지급

### MVP v9
- **개인 리그**: 32명 토너먼트 (8조 풀리그 → 16강 → 결승)
- **1:1 카드 배틀**: HP 기반 턴제 전투

### MVP v8
- **HP 기반 전투**: 턴제 전투 시스템
- **14경기 시즌**: 홈/어웨이 2회전
- **경기장 확장**: 25개

### MVP v7
- 트레이드 시스템, 뉴스 피드, 우승 보너스

### MVP v6
- 카드 기록, 술사 명부, 개인 순위, 수상 시스템

### MVP v5
- 플레이오프 (5전 3선승제), 통산 전적

### MVP v1~v4
- 기본 대전, 시즌 리그, AI 크루, 등급 제한, 스킬/궁극기 시스템

---

## 라이선스

이 프로젝트는 팬 프로젝트이며, 주술회전의 모든 캐릭터와 관련 자산은 아쿠타미 게게 및 슈에이샤의 소유입니다.
